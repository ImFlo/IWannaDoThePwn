q
r < <(cyclic 1024)
r < <(python -c 'print "A" * 501 + "BBBBBBBB"')
r < <(python -c 'print "A" * 497 + "BBBBBBBB"')
r < <(python -c 'print "A" * 498 + "BBBBBBBB"')
r < <(python -c 'print "A" * 497 + "BBBBBBBB"')
r 
q
